{"version":3,"sources":["profiler/js.js"],"names":["parseDashStatus","out","data","state","parsePackStatus","carName","SOC","flag","push","parseVoltageData","min_voltage","max_voltage","pack_voltage","parseTemperature","temp_array","i","length","highest","pack_max_temp","parseThrottle","difference_check","throttle","parseBrake","brake","chooseParser","parse","Object","array","CAN_Id","Timestamp","can","start","Date","getTime","console","log","Math","floor","random","total"],"mappings":"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","file":"js.js","sourcesContent":["function parseDashStatus(out,data){\r\n    out.state = data[2];\r\n}\r\nfunction parsePackStatus(out,data){\r\n    out.carName = data[2];\r\n    out.SOC = data[3];\r\n    var flag = data[4] << 8 | data[5];\r\n    out.flag = [];\r\n    out.flag.push((flag&0x0000)==0x0000);\r\n    out.flag.push((flag&0x0001)==0x0001);\r\n    out.flag.push((flag&0x0002)==0x0002);\r\n    out.flag.push((flag&0x0004)==0x0004);\r\n    out.flag.push((flag&0x0008)==0x0008);\r\n    out.flag.push((flag&0x0010)==0x0010);\r\n    out.flag.push((flag&0x0020)==0x0020);\r\n    out.flag.push((flag&0x0040)==0x0040);\r\n    out.flag.push((flag&0x0080)==0x0080);\r\n    out.flag.push((flag&0x0100)==0x0100);\r\n    out.flag.push((flag&0x0200)==0x0200);\r\n    out.flag.push((flag&0x0400)==0x0400);\r\n    out.flag.push((flag&0x0800)==0x0800);\r\n    out.flag.push((flag&0x1000)==0x1000);\r\n    out.flag.push((flag&0x1000)==0x2000);\r\n    out.flag.push((flag&0x1000)==0x4000);\r\n    out.flag.push((flag&0x1000)==0x8000);\r\n}\r\nfunction parseVoltageData(out,data){\r\n    out.min_voltage = (data[2] << 8) | data[3];\r\n    out.max_voltage = (data[4] << 8) | data[5];\r\n    out.pack_voltage = (data[6] << 24) | (data[7] << 16) | (data[8] << 8) | data[9];\r\n}\r\nfunction parseTemperature(out,data){\r\n    out.temp_array = [];\r\n    for(var i=2; i<data.length-2;i++){\r\n        out.temp_array.push(data[i]);\r\n    }\r\n    out.highest = data[8];\r\n    out.pack_max_temp = data[9];\r\n}\r\nfunction parseThrottle(out,data){\r\n    out.difference_check = data[2];\r\n    out.throttle = (data[3] & 0x7F) << 8 | data[4];\r\n    var flag = data[6] << 24 | data[7] << 16 | data[8] << 8 | data[9];\r\n    out.flag = [];\r\n    out.flag.push((flag&0x0000)==0x0000);\r\n    out.flag.push((flag&0x0001)==0x0001);\r\n    out.flag.push((flag&0x0002)==0x0002);\r\n    out.flag.push((flag&0x0004)==0x0004);\r\n    out.flag.push((flag&0x0008)==0x0008);\r\n    out.flag.push((flag&0x0010)==0x0010);\r\n    out.flag.push((flag&0x0020)==0x0020);\r\n    out.flag.push((flag&0x0040)==0x0040);\r\n}\r\nfunction parseBrake(out,data){\r\n    out.difference_check = data[2];\r\n    out.brake = (data[3] & 0x7F) << 8 | data[4];\r\n    var flag = data[6] << 24 | data[7] << 16 | data[8] << 8 | data[9];\r\n    out.flag = [];\r\n    out.flag.push(flag&0x0000==0x0000);\r\n    out.flag.push(flag&0x0001==0x0001);\r\n    out.flag.push(flag&0x0002==0x0002);\r\n    out.flag.push(flag&0x0004==0x0004);\r\n    out.flag.push(flag&0x0008==0x0008);\r\n    out.flag.push(flag&0x0010==0x0010);\r\n    out.flag.push(flag&0x0020==0x0020);\r\n    out.flag.push(flag&0x0040==0x0040);\r\n}\r\nfunction chooseParser(out,data){\r\n      switch(data[0]){\r\n        case 1574:\r\n            parseDashStatus(out,data);\r\n            break;\r\n        case 513:\r\n            parseBrake(out,data);\r\n            break;\r\n        case 512:\r\n            parseThrottle(out,data);\r\n            break;\r\n        case 1160:\r\n            parseTemperature(out,data);\r\n            break;\r\n        case 392:\r\n            parsePackStatus(out,data);\r\n            break;\r\n        case 904:\r\n            parseVoltageData(out,data);\r\n            break;\r\n    }\r\n}\r\nfunction parse(data) {\r\n    if(data&&data.length>0){\r\n        var out = new Object();\r\n        var array = data;\r\n        out.CAN_Id = array[0];\r\n        out.Timestamp = array[1];\r\n        chooseParser(out,array);   \r\n        return out;\r\n    }\r\n    else return \"\";\r\n}\r\nvar can = [\r\n    0x200,\r\n    0x201,\r\n    1574,\r\n    392,\r\n    1160,\r\n    904\r\n];\r\nvar array = [\r\n    200,\r\n    0, // timestamp\r\n    20,\r\n    20,\r\n    20,\r\n    20,\r\n    20,\r\n    20,\r\n    20,\r\n    20\r\n];\r\nvar start = new Date().getTime();\r\nconsole.log(\"start time: \" + start);\r\nfor(var i = 0; i < 100000; i++) {\r\n    array[0] = can[Math.floor(Math.random() * can.length)];\r\n    array[1] = new Date().getTime();\r\n    parse(array);\r\n}\r\nvar total = new Date().getTime() - start;\r\nconsole.log(\"time taken: \");\r\nconsole.log(total);\r\nconsole.log(\"average frame time: \");\r\nconsole.log(total / 100000);\r\nconsole.log(\"average frame rate: \");\r\nconsole.log(1000 / (total / 100000));"]}